<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
    <TITLE>Channel Archive Manager - Quick Start Guide</TITLE>
    <META NAME="AUTHOR" CONTENT="Thomas Birke">
    <META NAME="CLASSIFICATION" CONTENT="CAManager, CAbgManager">
    <META NAME="KEYWORDS" CONTENT="Channel Archive Manager, CAManager, CAbgManager, quickstart">
  </HEAD>
  <BODY>

    <H1>Channel Archive Manager - Quick Start Guide</H1>

    <H2>A sample setup in 7 easy steps</H2>

    <P>Some of the steps reflect typical unix commands, but you should
      easily figure out the appropriate Windows actions...</P>
    
    <hr noshade size=1>
    <OL>

      <LI><P>Install the CAManager Software (see INSTALL.txt in the
	  source-directory or the corresponding <A
	  HREF="install.html">html-version</A>)</p>
	<hr noshade size=1>
      <LI>
	<P>Pick an already existing archive-directory or create a new
	  directory (let's say <tt>/tmp/TestArchive</tt>) and create a
	  configuration file in there (for now it's ok, if it's
	  empty).
	  <IMG SRC="qMain.png" ALT="CAManager Main Window" ALIGN=right
	       WIDTH=496 HEIGHT=187 HSPACE=8 VSPACE=8 BORDER=0>
	  
	  <BR><BR>
	  <TT>&gt; mkdir /tmp/TestArchive</TT><BR>
	  <TT>&gt; touch /tmp/TestArchive/main.cfg</TT>
	</P>
	<hr noshade size=1>
      <LI><P>start <em>CAManager</em><BR><BR>
	  <TT>&gt; CAManager</TT><BR><BR>A window like the one on the right will appear.
	</P>
	<hr noshade size=1>
      <LI><P>To create a new archiver configuration click the
	  <TT>[New]</TT> button and the following dialog will pop
	  up.</P><p>Note that the entry in the Host-field will reflect the
	  hostname of the machine CAManager is currently running on.
	  <IMG SRC="qProps1.png" ALT="Properties Window" ALIGN=right
	       WIDTH=266 HEIGHT=381 HSPACE=8 VSPACE=8 BORDER=0></P>
	<hr noshade size=1>
      <LI><P>Enter proper configuration values</P>
	<ul>
	  <li>Select a <b>port</b> the ArchiveEngine should use for it's
	    status/configuration-interface
	  <li>Select a meaningful <b>description</b>
	  <li>Select a <b>configuration file</b> either by
	    <ul type="square">
	      <li>entering the filename or
	      <li>opening the file-selector (<tt>[...]</tt> button) and
		selecting the configuration file
	    </ul>
	    In this example, it should be
	    <tt>/tmp/TestArchive/main.cfg</tt>
	  <li><p>Select a <b>schedule</b></p>
	    <p><b>example A:</b><br>
	      If you for example want that our archiver is restarted every 8
	      hours (every shift) and we want to keep 4 shifts of archived
	      data, you should do the following:</p>
	    
	    <ol type="a">
	      <li>set  <b>Run/Rerun</b> to <em>hour</em>
	      <li>set <b>at</b> to when the first shift starts (e.g. <em>6am</em>)
	      <li>set <b>every ... hours</b> to <em>8</em>
	    </ol>

	    <p><b>example B:</b><br>
	      If you want to restart your archiver every week Mondays at
	      2am and keep all archives online, you should instead do this:</p>

	    <IMG SRC="qProps2.png" ALT="sample Schedule" ALIGN=right
		 WIDTH=253 HEIGHT=91 HSPACE=8 VSPACE=8 BORDER=0></P>
	    <ol type="a">
	      <li>set  <b>Run/Rerun</b> to <em>week</em>
	      <li>set <b>every ... weeks</b> to <em>1</em>
	      <li>set the weekday to <em>Monday</em>
	      <li>set <b>at</b> to <em>2am</em>
	    </ol>

	  <li><p><em>[optional]</em> Check any of the next three items if appropriate</p>

	  <li><p>Select an <b>archive file</b></p>
	    <p>This is a pattern for the directory structure where the
	      archiver should put it's data.</p>
	    <p>You can drop down a list of suggestions by clicking the
	      small down-arrow on the right side.</p>
	    <p>For <b>example A</b> (that is to use/reuse 4 archives), you
	      should enter <tt>%4/directory</tt>,<br> for <b>example B</b>
	      (to keep all archives and separate them by year/week#),
	      <tt>%Y/%V/directory</tt> is fine.
	  <li><p><em>[optional]</em> If you want each archive to be added to an external
	      multi-archive, you should set <b>multi-archive file</b> to
	      the corresponding file.</p>
	  <li><p>You have to set the <b>log file</b> as well. You can again
	      pick one of the suggested ones.</p>
	</ul>
	<hr noshade size=1>
	<IMG SRC="qNobgMan.png" ALT="CAbgManager not running" ALIGN=right
	     WIDTH=331 HEIGHT=138 HSPACE=8 VSPACE=8 BORDER=0>
      <LI><P>Close the properties dialog by clicking OK</p>
	<P>After a few seconds, you should see the following warning dialog.<br>
	  <em>CAManager</em> just found that you configured an archiver,
	  but currently have no <em>CAbgManager</em> running to monitor
	  whether the archiver is running or not.
	</P>
	<p>You should select <tt>[Start]</tt> to get the whole process
	  running.</p>
	<hr noshade size=1>
      <LI><P><b>Save</b> your current configuration (<b>File</b>-menu -> <b>Save</b>)
	<p>After a few seconds, the appropriate line in the main dialog should
	  change from (every field blinks red on change)</p>
	<IMG SRC="qRun1.png" ALT="Archiver not running" WIDTH=751 HEIGHT=57 HSPACE=8 VSPACE=8 BORDER=0>
	<p>to</p>
	<IMG SRC="qRun2.png" ALT="Archiver running" WIDTH=751 HEIGHT=59 HSPACE=8 VSPACE=8 BORDER=0>
	<p>You can observe the status of <em>CAbgManager</em> via it's
	  web-interface. By default, it is accessible as <a
	  href="http://localhost:4610/">http://localhost:4610/</a> from
	  your web-browser, but you can change the port number (and many
	  other parameters) in the <b>Properties</b> dialog
	  (<b>Edit</b>-menu -> <b>Properties</b> -> <b>bgManager</b>)</p>
	<p><em>CAManager</em> is no longer necessary to keep the
	  ArchiveEngine running.</p>
    </OL>
    <hr noshade size=1>
    <h1>Congratulations</h1>
    <p>You just configured your first Archiver and got it running.</p>
    <p>Of course, if you just created an empty configuration and didn't use
      an existing one, you'll have to set up the configuration file for
      your ArchiveEngine properly.</p>
    <p>You can either</p>
    <ul>
      <li><p>Use the ArchiveEngine's web-interface to add channels to the
	archiver.<br>
	In the default configuration you should be able to enter <a
	href="http://localhost:4711/">http://localhost:4711/</a> in your
	favourite web-browser an get access to the ArchiveEngine itself.</p>
      <li><p>Click and hold the right mouse button on the archiver entry in
	  the main window. Select <b>View/Edit Configuration</b> in the popup
	  menu.</p>
	<p>The simple editor window that opens lets you create and save a simple
	  configuration manually (refer to the ChannelArchiver
	  documentation about the syntax of the configuration file).</p>
	<p>Once you save a configuration and close the editor, you have to
	  restart the archiver.<br>
	  Do that by just selecting the archiver in the main window and
	  pressing the <tt>[Stop]</tt> button.</p>
	<p>The archiver will be stopped soon and <em>CAbgManager</em> will
	  restart it with the new configuration within a few seconds.</p>
    </ul>
      <hr>
      <div align=right>
	<i>
	  <!-- hhmts start -->
		  Latest modification: 12 Dec 01 14:54:20 Thomas Birke
		  <!-- hhmts end -->
	</i>
	<address>
	  <a href="mailto:birke@lanl.gov">birke@lanl.gov</a>
	</address>
      </div>
      <hr>
  </BODY>
</HTML>