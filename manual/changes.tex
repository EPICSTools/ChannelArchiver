\chapter{Changes}

This chapter describes the version numbers and changes since
the beginning of the R3.14 port.
New  "versions"  are  marked  by some additional functionality. The
"patches" are then used to debug those new things.

% Compare: make.cfg, ArchiveDaemon.pl $version
\begin{itemize}

\item 06/30/2004 --- Version 2.1.2:\\
Added tags and channel names to the Data files,
so that in the future one could try to write
a rescue tool.
Patch for XML-RPC C/C++ lib.\ allows small numbers.
DataTools' ``index2dir'' option now actually works.
Matlab/Octave glue code can handle an array channel
(when requesting a single channel, raw data).
ArchiveDaemon generates indexupdate.xml for each re-index run;
``-u'' option.

When retrieval uses a "master" index and reaches
its end, it will try to continue by following
links of the last data block in the sub-archive.
This will allow us to get closer to "now" between
updates of the master index.
The first attempt to implement this failed because
of errors in the handling of the path names
(master index has path to data files, but when
we follow the links inside the sub-archive's data
file, those are relative to where the sub-archive resides).
Still not fully tested.

\item 04/01/2004 --- Version 2.1.1:\\
Many little updates have been checked into CVS
while the tools reported "2.1.1".
In the end, the engine supported sampling, monitoring
and sampling-based-on-monitors, and ran without known problems
under valgrind.
The XML-RPC Data Server seemed to work fine, supporting
raw data, plot-binning, spreadsheets, averaged and linear interpolation.
Java Archive client is useable.
Switched index file to CAI2, where the name hash includes a filename
for the RTree. For now it's left empty, but the file format now
allows for a further extension where certain RTrees are in separate
files as soon as the index file gets too big.

\item 01/27/2004 --- Version 2.1.0:\\
Uses new RTree, initial XML-RPC Data Server, XML configuration files.

\item 09/05/2003 --- Version 2.0.1:\\
Some bug fixes:
The  "scanned"  operation didn't work, and when all was monitored,
the  empty  scan lists lead to a high CPU load. Still not perfect,
the  ChannelInfo  code  should  be  split  into  really monitored,
scanned using CA monitor and scanned using CA get.

\item 04/04/2003 --- Version 2.0:\\
Starting to work on R3.14 port.
\end{itemize}
